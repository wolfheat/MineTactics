DEVLOG FOR MineTactics
Nov 2024

* IDEAS
- Make a Mine tactics game/program that lets the player practice different patterns and get a ELO rating that impacts the levels etc.
- Maybe have some monetization with ads make it for phones
- maybe have the minimal game board needed to define each pattern.


2/11	* Started Game Development
		* Made some basic game mechanics
3/11	* Continued with game mechanics
		* Numbers, mines, busts, flags, wrong flags, added
		* Chording added
		* Fixed loop issue?
		* Restart Level button added, smiley
4/11	* Added Timer 
		* Added Minecount digits (including minus count)
		* Timer stops at game bust and restarts accordingly at first input
5/11	* New level generated at restart
		* Game select screen added, fixed text issue
6/11	* Added Setting popup screen to set different levels S-M-L etc and show info is now on UI page
		* Game does not start directly anymore when first created
		* Fixed Click through issue with UI panel
7/11	* Better alignement for level
		* Fixed resizing and aligning again to work in a better fashion
		* Added Fixed amount of mines per level and Fisher-Yates shuffle to pick positions
		* Win condition added, player wins if all free tiles are opened
		* Added fail safe start, no mines at first click
8/11	* Improved number graphics to higher quality
		* Added storing method and compress method (compress is not that good atm but can be changed later)
		* Uncompress method seems to work as well
9/11	* Added new project database for firestore
		* Added Save and Load methods to save and get levels from the store
		* Levels can now be saved and loaded to database
		* 
11/11	* Added Transpose and Rotation at random when loading
		* Comfirmed that Amount above 26 is converted correctly.
		* GitIgnored Firebase files
		* Edit mode created - First Flagging of Mines - Next goes to Open and unflagg mode (SHow unflagged as faded mines?)
12/11	* Second step of Creation added, Mines can be deactivated but still shows with tinted mine sprite
		* Added Submit function for created Levels
		* Loading unexisting Levels prohibited
		* Exiting/Canceling Edit Mode now Closes the Menues and Exits Edit Mode, Loads Random Level, Maybe have a unloaded phase instead
		* Fixed mine amount shown in edit mode. Edit Mode 1 should show total mines regardless of flaggs (all are flagged) Edit Mode B shoud show Unflagged mines
		* Added Query for loading levels, Approved - Rating > X - Rating < Y - 
		* Levels are now indexed with a generic Firebase ID aslo set to LevelID 
		* Level shown in bottom right corner.
13/11	* Added toggle for accepting loading of Pending levels
		* When Loading several levels, they are stored in a List and Player loads from the List if there are Levels available before loading from database again
		* LimitS player from sending same level to database twice.
		* Added counter that shows Donwloaded Levels
		* Rewrote Menu System into a better one
		* Background Colors are now different in all modes
14/11	* Added rules for updating values in database
		* Added ResultScreen after completing challenge, shows data
		* ResultScreen has stars player can set and vote
		* Added update rules that allowes players to update certain data
		* Setting Pending value make you load pending levels
15/11	* Added a login page and tried adding authentication with email and pass
		* Tried making the register and Login work but got issues
17/11	* Added Android Build
		* Changed resolution to suite mobile
		* Did Android build trying to solve Auth issues, no luck there
		* Have touch working on Android
		* Adjusted camera ortho size to make levels fit on mobile/screen again
18/11	* Fixed issue with Auth for players
		* Player can now register and log in
		* Players can now submit levels to the database as Pending
19/11	* Made a progress circle for the LoadingPanel
		* LoadingScreen now works for Log In and Register Actions
		* Anonymous log in only allowes game play and return to Menu button
		* Submitting Levels now use ProgressPanel
		* Tried Changing Manifest to get it to Run Firebase on Android, but it did not want to open from this
20/11	- Struggled all day trying to get it to run on mobile. Had tons of gradle issues making the build fail for android. Updated project to v 2022.3.53f1
		- Git it to run By deleting the android-35 from the E:\Unity Projects\2022.3.53f1\Editor\Data\PlaybackEngines\AndroidPlayer\SDK\platforms dir
21/11	* Fixed issue with Firebase and build Gradle issue - solution was to check the MInify boxes in the Android Build Settings - Custom Gradle manifests are enable but not written to
		* Updated the Input system so only new is used for touch
		* Adjusted ResultScreens into different ones depending on GameType
		* Added Loading Screen For Loading Levels from db
		* Fixed first level starting directly when loaded levels complete - Now starts at closing menu
		* Changed so when pressing Next a new Level is Loaded instead of pressing the Random button
22/11	* Make the Setting Size Have Single size steps from 5x5 -> 15x15 ??
		* Player can now set levels 5-15 on a slider in settings - updates on closing the menu preset Minecount 5, 7, 10, 13, 16, 20, 24, 30, 35, 42
		* Added buttons to swap between game modes
		* When not able to load levels it reverts to normal mode when closing loading panel
		* Made Settings for delay touch timing settings in settings 5-30ms?
		* Make Smiley start Challenge if in challenge mode
		* Added the Active GameMode Panel at the top
		* Had strange issue with strings not being equal when changing from TextMEshPro.text value to InputFiled.Text
		* Fixed issues in LoadingScreen texts showing wrong things
		* Make Tab step to next Input field when in Login or Register (Not needed for android) Tried no luck
		* Enter after inserting Password now invokes OnCLick.
23/11	* Fixed GameArea scaling issue. Should scale correctly now
		* Added saving of settings		
		* Rearranged Settings Screen
		* Fixed Background not being large enough when scaling
24/11	* Fixed Mode shown and Buttons in Create Menu - After submit player goes to first creation menu step
25/11	* Extracted GameAre from LevelCreator
		* Made Stars reset to 3 when resultscreen starts
		* Fixed Create Mode Issues. First step now can handle ghost mines and flags. these stays when jumping between the steps.
		* Fixed Create Mode size issue when coming from Challenge and the Busted issue
		* Fixed so correct amount of mines shown in create A
		* Fixed backgrouindissue for challenge mode
		* Fixed settings not remembering using Pending
28/11	* Changed Buttons to new in Completionscreens
		* Added Clear button and Size Slider selector
		* Have solution that works to update size in Create A panel but its not optimized
		* Added Black space Bar on top
		* Added Username for players which is placed on created levels (no more email showing)
		* Added Backgrop of playArea to main menu
29/11	* Added support for Uploading and downloading Collections of LevelData
		* Added Support for saving Levels to Local Collection and sending it to the database at request
		* Made loaded levels not start directly
		* Clearing level when going to Challenge mode
		* Made Player Displayname of levels store to database instead of email
30/11	* Added LoadedLevelsPanel to have a menu to handle load and remove from the list
		* Implemented Replacing of levels in the Collection
		* Implemented loading from Collections - Also ghostflags and keep it at editormode
		* Popup now shown with info when failing to send levels
		* Moved Load Clear and Save collection buttons to Collection Panel
		* Loading of Collection now go to Edit mode list
		* Add Short fadable text for quick actions
		* Loading Level from Collection now closes the Panel and shows fade info
		* Loading of Collection can now be specified
		* Saving of Collection to specific name is possible
1/12	* Show Error message if trying to load unexisting collection
		* Fixed issue with loading collections
		* Collection loaded wont save to database
		* Collection games save to Collection file
2/12	* Active Loaded Level in Collection List is now marked darkbluegrey
		* Fixed Selection issue for CollectionList
		* Can now write to Collections by overwriting them. Reads the current Collection data and updates with local data.
		* Adding Levels to Collection Opens panel and Selects that Level
		* Added ConfirmationScreens for Deleting and Replacing Levels in Collection
3/12	* Added Remove Query Screen fror Collection
		* Query now can remove selected levels, PlayerId, Upvotes, Downvotes, DifficultyRating, PlayCount
4/12	* Levels can now be selected in the Collection list and deleted together
		* Added support for touch for selecting many
5/12	* Remade Buttons to showing icons
		* Remade Menu system added ButtonController
		* Fixed issue with mines showing when going from create to settings and closing, now starts Normal game
6/12	* Adjusted Menu - fixed issue exiting from CreateB
		* Menu fully working - Removed Clear button - Smiley now resets CreateA and resets opened boxes in CreateB
		* Settings panel and back to any mode will keep that mode going
		* Added limits for Collection Names when storing and loading
		* Moved Out the Panel from LocalLevels = Collections panel
		* Cleared Confirmation panel so it can take any request and send a delegate Action back
7/12	* made slider size update when entering create Mode
8/12	* Added InfoPanel in Collection screen that shows detail for selectged levels
		* Infopanel now shows Level info for mouseover level, and if any is selected it shows lastly selected when not mouseover. (Does not work with simulate touch on)
		* Messed with textmeshpro text style presets
		* Made a second GameArea with separate Camera for showing a miniview popup in the collection panel
		* Collection Now has a semi working miniview. 
		* Almost fixed new issues with scaling and positioning the miniview and main gameArea.
		* Basic Positioning is working, needs a bit refining and to scale with changing box size
9/12	* Fixed issue with positioning scaling of miniView
		* Fixed issue with loading levels when having a collection active
		* Added button to save selection of collection to database
		* Generic Menus for Confirm and ConfirmInput added and working

		* Add loading screen when saving collection

		* Add normal modes EAYS_INTERMEDIATE_EXPERT and pan possability?
		* Issue with slow loading of levels in collections sometimes, fix?

		* Show Loading screen when doing task Loading from DB to Collection
		* Clear - Clears directly, add confirmation screen?

		* Player can swap mode during a play should this be possible? Maybe it exits a game the player wants to play to finish?

		* Select many not working in Mobile due to no shift available, implement this by long click
		
		* Have the list sortable for downvotes? ANd able to remove that selection from the total list?

		Minesweeper GO Pro Cons

			TheOreh/Opex/0,12,46/220,180,140
		-no ping or delay, game only loads to the server after you win it
		-no cheaters usually (partly cuz of anticheat), or the dev, who has contacts with active players, bans cheaters in a short period of time
		-no incidents when your board moves up and down like on wom mobile
		-tournaments

			Llama
		 The main reason for playing it over different apps is that it has good stats and leaderboards, though WoM also has this. And the reason for playing minesweeper Go 
		 over WoM would be that minesweeper Go is optimised for mobile so is a bit more responsive than WoM. Although this does depend on other factors like what device is used.




		* Missing functionality Creating collections
		// Half completed Collection exit handeling
		* collection file. Handle Exit game? Store to file as well so players can continue?
		
		* ISSUE - There is a list of created levels that prohibits same level to be created twice, but player can delete a level so it should be allowed again if done?

		* Have each level knowing its collection? - Needed to know if game should be saved or not when completed. Can we write to the Collection?


		* How about having new Pending levels in a pot where players can play and rate them and after 100 ratings it is ether approved or discarded?
		* Approved goes into certain Collections? Maybe Monthly new or Weekly?

		* Initially players get the basic collections maybe 1000 levels? Need to complete them to unlock rest?

		// Moderator Tools
		* Add Special Creator Menu that can load a collection, remove specific elements, load them into edit etc?


		// Trouble with Id only unique inside each document not both

		* Introduce Collections, that holds 100+ level? Group them by type or difficluty?

		* Add page with statistics for the player?
			* Total games cleared
			* Practice levels completed?
			* Rating?
		

		// PRO USERS
		* Maybe only allow paying players to rate and play pending games?
		* Make it possible to support as patriot, Buy Me a coffie or buying the game / unloading ads 5$?
		* Make Submit button hide when submitted a level.
		* Have creator guess a rating 1-10 which determines the levels start rating
		* Make admin Log in that allowes approved levels directly
		* Make admin Log in that allows upload of Collections?

		// MODES
		* Add find missflagged mine Game Mode??				
		* Have some as Optional - Reasonable - Wishful?
		
		// PAPER
		* Create Paper on Expected features for the game and Steps to get there?

		// TODO
		* Fix the error handeling of submitting levels

		// MONITIZATION
		* How to monitize? Have unlock fee / buying game remove all ads and for rest have x amount of free games before require ad for continueation / or wait.

		// USER EXPERIENCE
		* Have player be able to favour some levels they want to practice and keep them locally? Have an option to run only favourite levels?
		* Maybe - Make player unable to load same level again for 20 or 50 levels?
		* Figure out more exactly how to deal with player ratings and levels ratings.
		* Have a limit for levels for them to count towards rating? How to set this range?
		* HAve categories for levels depending on logic? How to handle this, how to handle multiple logics?
		* Should player have different strengths in diffrent logics and unlocking new ones? Prob not. Just have harder levels not appear for new users

		// LEVEL CREATION
		* Decide where to go after a Level is submitted
			* Have player be able to go back to placing mines (Edit Mode A) from Edit Mode B
		* Change so placemnt of mines are tinted mines and not flags, rework this
		* Make create mode that places mines and starts level and request send to database when satisfied

		// UI
		

		// LEVEL CREATION SYSTEM
		* Make a Collection sub database that holds many levels? Limits Reads. (writes? how to limit? collections does not need to be updated? Rating needs to?)

		* Add Error message popup when loading unexisting level
		
		// AUTHENTICATION
		* Players need to be able to log in with Facebook/googleaccount
		* Have Log out use Loadingpanel and show result?


		// FIREBASE LIMITS
		Monthly active users	50k/month 
		Stored data 			1 GiB total 
		Document writes 		20K writes/day 	No-cost up to 20K writes/day Then Google Cloud pricing
		Document reads 			50K reads/day 	No-cost up to 50K reads/day Then Google Cloud pricing
		Document deletes 		20K deletes/day No-cost up to 20K deletes/day Then Google Cloud pricing https://firebase.google.com/pricing
		Outbound data transfer 	10 GiB per month
		Maximum size for a document 	1 MiB (1,048,576 bytes)
		Maximum size of a field value 	1 MiB - 89 bytes (1,048,487 bytes)

		// DATABASE
		* Figure out a way to not load to many Levels at a time
		* Maybe have many levels per entry, makes reads a lot fewer if 100 levels are in one read?

		// Cloud Firestore Rules
		* Allow writing if
			- PLayer is power user = paying or playing a lot?
			- Level starts with number between 06-20
			- Status == Pending (Players always place the level in Pending status) Might allow admin status to place as Approved?
			- Upwotes == 0 && Downvotes == 0 - When level is uploaded it has to start at no Votes
			- 
		* Allow updating if
			- Update specific value 
				- Pending -> Approved if Upvotes - DownVotes > 10
				- DifficultRating if newValue >= OldValue -MaxChange &&  newValue <= OldValue +MaxChange 
				- DownVotes if newValue == OldValue +1 
				- UpVotes if newValue == OldValue +1 
				- PlayCount if newValue == OldValue +1 
				-- Do Not allow updating Level, LevelID, CreatorId




		//ISSUES
		* Changeing Size during a Create even breaks the level. Maybe have the level size set at the first creation step?

		* SOLVED - Having this issues with creating new Users for the project
		System.AggregateException: One or more errors occurred. (An internal error has occurred.) ---> Firebase.FirebaseException: An internal error has occurred.
  at Firebase.Auth.FirebaseAuth.CreateUserWithEmailAndPasswordAsync (System.String email, System.String password) [0x00038] in /Users/runner/work/firebase-unity-sdk/firebase-unity-sdk/android_unity/armeabi-v7a/auth/swig/Firebase.Auth_fixed.cs:3853 
   --- End of inner exception stack trace ---
---> (Inner Exception #0) Firebase.FirebaseException: An internal error has occurred.
  at Firebase.Auth.FirebaseAuth.CreateUserWithEmailAndPasswordAsync (System.String email, System.String password) [0x00038] in /Users/runner/work/firebase-unity-sdk/firebase-unity-sdk/android_unity/armeabi-v7a/auth/swig/Firebase.Auth_fixed.cs:3853 <---

		

		
		// TODO

		// SAVING / LOADING

		 - MAIN MENU

		 - MECHANICS
		
		 - SOUNDS
		
		-- ASSETS USED --
		* Barking Dog - 3D Scifi Base Vol 1 - Single Entity
		* Ilias Kap - Workplace Tools -  Standard EULA

		 - FONTS
		* Gomarice - Shiratama Dango - Apache-2.0
		* Aenigma Games & Fonts - Euphoric - Commersial Use

		 - MUSIC		
		* Kevin MacLeod - Airport Lounge - Royalty Free Upbeat
		* Moire - Space Ranger - Royalty Free Upbeat
		* Zapsplat - Tropical Dawn - Music from https://www.zapsplat.com

		 - TOOLS
		* AI Art - Playground
		* Made in Unity
				
		MAYBE
		
		REJECTED
		
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 		

		CHECKLIST FOR BETTER PLAYER EXPERIENCE

		* BUGS, CRASHES, SLOW PERFORMANCE
		* MISLEADING MARKETING
		* NOT ENGAGING WITH COMMUNITY
		* CONFIGURABLE CONTROLS, 
		* TEXT TO SMALL, 
		* CONTRAST, 
		* MISSING FEATURE

------ ------- ------